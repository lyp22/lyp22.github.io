---
published: true
title: 报错caffe_.mexa64: undefined symbol
category: caffe
tags: 
  - matcaffe
layout: post
---

报错Invalid MEX-file
'/home/lyp/Data/Downtown/LSART/LSART/caffe/matlab/+caffe/private/caffe_.mexa64':
/home/lyp/Data/Matlab2014a/bin/glnxa64/../../sys/os/glnxa64/libstdc++.so.6:
version `GLIBCXX_3.4.21' not found (required by
/home/lyp/Data/Downtown/LSART/LSART/caffe/matlab/+caffe/private/caffe_.mexa64)

```
在目录下~/Data/Matlab2014a/sys/os/glnxa64 更改软链接指向
libstdc++.so.6 -> /usr/lib/x86_64-linux-gnu/libstdc++.so.6

```

用matlab执行.m文件时报错：

```
Invalid MEX-file '/home/dorothy/environment/caffe-master/matlab/+caffe/private
/caffe_.mexa64': /home/dorothy/environment/caffe-master/matlab/+caffe/private
/caffe_.mexa64: undefined symbol: 
_ZN2cv8imencodeERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaI
```

解决办法：

将usr/local/MATLAB/R2015b/bin/glnxa64中，以下三个文件删掉，最好备份一下以防万一：

```
libopencv_core.so.2.4
libopencv_highgui.so.2.4
libopencv_imgproc.so.2.4
```


/usr/lib/libharfbuzz.so.0: undefined symbol: FT_Get_Var_Blend_Coordinates问题的解决
```
sudo ln -sf  /usr/lib/x86_64-linux-gnu/libfreetype.so.6 /opt/MATLAB/R2012a/bin/glnx86/libfreetype.so.6
```



